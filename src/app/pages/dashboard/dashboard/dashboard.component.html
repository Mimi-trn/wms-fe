<!-- ============================
     BREADCRUMB (Thanh điều hướng)
=============================== -->
<nz-row nzAlign="middle" class="mb-12">
  <app-breadcrumb nz-col [nzSpan]="23" [listBreadCrumb]="breadcrumbs"></app-breadcrumb>
</nz-row>

<nz-row>
  <nz-col nzSpan="24">
    <nz-row nzJustify="start">
      <nz-col>
        <div style="border-radius: 5px; background: #fff; margin-bottom: 24px">
          <nz-range-picker nzFormat="dd/MM/yyyy" [(ngModel)]="rangDate" [nzBorderless]="true"
            [nzPlaceHolder]="['start_date' | translate, 'end_date' | translate]" (ngModelChange)="getDashboardData()">
          </nz-range-picker>
        </div>
      </nz-col>
    </nz-row>
  </nz-col>
</nz-row>

<nz-row>
  <nz-col nzSpan="24">
    <div class="container-dashboard-number">

      <!-- Ô Import Request -->
      <div class="dashboard-number">
        <div class="dashboard-icon">
          <div class="icon" style="background-color: rgba(91, 147, 255, 0.1); cursor: pointer"
            routerLink="../manage-warehouse-receipt/required-receipt-warehouse">
            <img src="./assets/image/svg/dashboard_import_request.svg" alt="" />
          </div>
        </div>
        <div class="gap"></div>
        <div class="dashboard-text">
          <div class="number">{{ dashboardData.importRequest }}</div>
          <div class="text">{{ "dashboard.importRequest" | translate }}</div>
        </div>
      </div>

      <!-- Ô Export Request -->
      <div class="dashboard-number">
        <div class="dashboard-icon">
          <div class="icon" style="background-color: rgba(255, 214, 107, 0.1); cursor: pointer"
            routerLink="../export/list-request-export">
            <img src="./assets/image/svg/dashboard_export_request.svg" alt="" />
          </div>
        </div>
        <div class="gap"></div>
        <div class="dashboard-text">
          <div class="number">{{ dashboardData.exportRequest }}</div>
          <div class="text">{{ "dashboard.exportRequest" | translate }}</div>
        </div>
      </div>

      <!-- Ô GRN -->
      <div class="dashboard-number">
        <div class="dashboard-icon">
          <div class="icon" style="background-color: rgba(255, 143, 107, 0.1); cursor: pointer"
            routerLink="../manage-warehouse-receipt/good-receipt-note-pending">
            <img src="./assets/image/svg/dashboard_grn.svg" alt="" />
          </div>
        </div>
        <div class="gap"></div>
        <div class="dashboard-text">
          <div class="number">{{ dashboardData.grn }}</div>
          <div class="text">{{ "dashboard.grn" | translate }}</div>
        </div>
      </div>

      <!-- Ô GDN -->
      <div class="dashboard-number">
        <div class="dashboard-icon">
          <div class="icon" style="background-color: rgba(96, 91, 255, 0.1); cursor: pointer"
            routerLink="../export/list-GDN-pending">
            <img src="./assets/image/svg/dashboard_gdn.svg" alt="" />
          </div>
        </div>
        <div class="gap"></div>
        <div class="dashboard-text">
          <div class="number">{{ dashboardData.gdn }}</div>
          <div class="text">{{ "dashboard.export" | translate }}</div>
        </div>
      </div>

    </div>
  </nz-col>
</nz-row>

<nz-row>
  <nz-col nzSpan="12" class="equal-column">
    <div class="container-table">
      <div style="margin-bottom: 14px; font-size: 20px; font-weight: 600">
        {{ "Cảnh báo trong ngày" | translate }}
      </div>
      <nz-table nzBordered [nzFrontPagination]="false" [nzShowPagination]="false" [nzScroll]="{ x: 'auto', y: '300px' }"
        [nzData]="listItems" #techFormTable nzSize="small" class="w-100">
        <thead>
          <tr>
            <ng-container *ngFor="let column of itemTableColumns; let i = index">

              <th nz-resizable [nzColumnKey]="column.keyName" [nzWidth]="column.width" (nzResize)="onResize($event, i)"
                [nzMaxWidth]="500" [nzMinWidth]="100" [nzAlign]="column.align" (click)="onSort(column.keyName, i)"
                style="cursor: pointer">
                <div style="display: flex" [style]="
                        column.align === 'left'
                          ? 'justify-content: space-between'
                          : 'justify-content: flex-end'
                      ">
                  <div class="editable-cell" style="margin-right: 5px">
                    {{ column.keyTitle | translate }}
                  </div>

                </div>
              </th>
            </ng-container>
          </tr>
        </thead>
        <tbody [class]="listItems.length == 0 ? '' : 'striped-tr'">
          <!-- Data table -->
          <ng-container *ngFor="let row of techFormTable.data; let i = index">
            <tr>
              <ng-container *ngFor="let column of itemTableColumns">
                <td *ngIf="
                        column.keyName !== 'notificationStatus' &&
                        column.keyName !== 'expiredDate'
                      " [nzAlign]="column.align">
                  {{ row[column.keyName] }}
                </td>
              </ng-container>
            </tr>
          </ng-container>
        </tbody>
      </nz-table>
    </div>
  </nz-col>
  <nz-col nzSpan="12" class="equal-column">
    <div class="container-dashboard-chart">
      <div class="container-chart">
        <div class="chart-pie">
          <canvas class="canvas" id="pie-chart"></canvas>
        </div>
      </div>
    </div>
  </nz-col>
</nz-row>

<nz-row>
  <nz-col nzSpan="24" class="equal-column">
    <div class="container-dashboard-chart">
      <div class="container-chart">
        <div class="chart-bar">
          <canvas class="canvas" id="bar-chart"></canvas>
        </div>
      </div>
    </div>
  </nz-col>
</nz-row>